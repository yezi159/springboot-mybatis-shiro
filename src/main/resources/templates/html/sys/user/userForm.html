<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>user Form</title>
</head>
<body>

<div class="admin-form">
    <form id="userForm">
        <input type="hidden" name="id">
        <table class="table table-bordered">
            <tbody>
            <tr>
                <td class="col-md-2">头像:</td>
                <td class="col-md-4">
                    <div class="smart-widget sm-right smr-50">
                        <label class="field">
                            <input type="text" id="parentName" readonly class="gui-input" style="background: #EEE">
                        </label>
                        <input type="hidden" id="parentId" name="parentId" >
                        <button type="button" id="officeSearchBtn" class="button btn-default"><i
                                class="fa fa-search"></i></button>
                        <button type="button" id="officeDelButton" class="close" data-dismiss=""
                                style="position: absolute; top: 11px; right: 60px; z-index: 999; display: block;">X
                        </button>
                    </div>

                </td>

                <td class="col-md-2"><span style="color: red">*</span>归属公司:</td>
                <td class="col-md-4">
                    <div class="smart-widget sm-right smr-50">
                        <label class="field">
                            <input type="text" id="areaName" readonly style="background: #EEE" class="gui-input">
                        </label>
                        <input type="hidden" id="areaId" name="areaId">
                        <button type="submit" id="areaSearchBtn" class="button btn-default"><i class="fa fa-search"></i>
                        </button>
                        <button type="button" id="areaDelButton" class="close" data-dismiss=""
                                style="position: absolute; top: 11px; right: 60px; z-index: 999; display: block;">X
                        </button>
                    </div>
                </td>
            </tr>
            <tr>
                <td class="col-md-2"><span style="color: red">*</span>归属部门:</td>
                <td class="col-md-4">
                    <div class="smart-widget sm-right smr-50">
                        <label class="field">
                            <input type="text" id="deptName" readonly style="background: #EEE" class="gui-input">
                        </label>
                        <input type="hidden" name="areaId">
                        <button type="submit" id="deptSearchBtn" class="button btn-default"><i class="fa fa-search"></i>
                        </button>
                        <button type="button" id="deptDelButton" class="close" data-dismiss=""
                                style="position: absolute; top: 11px; right: 60px; z-index: 999; display: block;">X
                        </button>
                    </div>
                </td>

                <td><span style="color: red">*</span>工号:</td>
                <td class="col-md-4">
                    <label class="field">
                        <input type="text" name="code" id="code" class="gui-input">
                    </label>
                </td>
            </tr>
            <tr>
                <td class="col-md-2"><span style="color: red">*</span>姓名:</td>
                <td class="col-md-4">
                    <label class="field select">
                        <label class="field">
                            <input type="text" name="name" id="name" class="gui-input">
                        </label>
                    </label>
                </td>

                <td><span style="color: red">*</span>登录名:</td>
                <td class="col-md-4">
                    <label class="field select">
                        <label class="field">
                            <input type="text" name="loginName" id="loginName" class="gui-input">
                        </label>
                    </label>
                </td>
            </tr>
            <tr>
                <td><span style="color: red">*</span>密码:</td>
                <td class="col-md-4">
                    <label class="field">
                        <input type="text" name="primaryPerson" id="primaryPerson" class="gui-input">
                    </label>
                </td>

                <td><span style="color: red">*</span>确认密码:</td>
                <td class="col-md-4">
                    <label class="field">
                        <input type="text" name="deputyPerson" id="deputyPerson" class="gui-input">
                    </label>
                </td>
            </tr>
            <tr>
                <td class="col-md-2">是否可用:</td>
                <td class="col-md-4">

                    <label class="field select">
                        <select id="useable" name="useable">
                            <option th:each="dict :${#dictUtils.getDictList('yes_no')}" th:text="${dict.label}"
                                    th:value="${dict.value}"></option>
                        </select>
                        <i class="arrow"></i>
                    </label>
                </td>

                <td>邮箱:</td>
                <td class="col-md-4">
                    <label class="field">
                        <input type="text" name="address" id="address" class="gui-input">
                    </label>
                </td>
            </tr>
            <tr>
                <td class="col-md-2">电话:</td>
                <td class="col-md-4">
                    <label class="field">
                        <input type="text" name="zipCode" id="zipCode" class="gui-input">
                    </label>
                </td>

                <td>手机:</td>
                <td class="col-md-4">
                    <label class="field">
                        <input type="text" name="master" id="master" class="gui-input">
                    </label>
                </td>
            </tr>
            <tr>
                <td class="col-md-2">用户角色:</td>
                <td class="col-md-4">
                    <label class="field">
                        <input type="text" name="email" id="email" class="gui-input">
                    </label>
                </td>

                <td>备注:</td>
                <td class="col-md-4">
                    <label class="field">
                        <textarea class="form-control" name="remarks" rows="2"></textarea>
                    </label>
                </td>
            </tr>
            </tbody>
        </table>
    </form>
</div>

<script>

    function submitForm() {
        let formData = $("#officeForm").serialize();
        console.log(formData);
        $.ajax({
            url: "/sys/office/save",
            method: "POST",
            data: formData,
            success: function (result) {
                if (result.code == 200) {

                }
            },
            error: function () {
                bootbox.alert("出错了!");
            }
        });
    }

    $("#areaSearchBtn,#areaName").click(function () {
        loadAreaTree();
        $("#areaTreeModal").modal("show");
    });
    $("#officeSearchBtn,#parentName").click(function () {
        loadOfficeTree();
        $("#officeTreeModal").modal("show");
    });

    $("#areaDelButton").click(function () {
        $("#areaName").val("");
        $("#areaId").val("");
    });

    $("#officeDelButton").click(function () {
        $("#parentName").val("");
        $("#parentId").val("");
    });
</script>
</body>
</html>